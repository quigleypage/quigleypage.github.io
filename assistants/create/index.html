<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="../encrypt.js"></script>
        <title>Q Assistant Builder</title>

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">

    </head>

    <body style="background-color: #F8F8F8;font-family: 'Roboto', sans-serif;">
        <h1>Q Assistant Builder</h1>
        <br>

        <label for="name">Name:</label>
        <input type="text" id="name" name="name">
        <br><br>
        Model:
        <input type="radio" id="GPT-3.5" name="model" value="GPT-3.5" checked>
        <label for="html">GPT-3.5 Turbo</label>
        <input type="radio" id="GPT-4" name="model" value="GPT-4">
        <label for="GPT-4">GPT-4o mini</label>
        <input type="radio" id="GPT-4o" name="model" value="GPT-4o">
        <label for="GPT-4o">GPT-4o</label>
        <br><br>
        <label for="Intro">Intro Message:</label><br>
        <textarea id="Intro" name="Intro" rows="4" cols="44"></textarea>
        <br><br>
        <label for="Suggestions">Suggested Prompts (; delimitted):</label><br>
        <textarea id="Suggestions" name="Suggestions" rows="4" cols="44"></textarea>
        <br><br>
        <label for="PHT1">Initial Placeholder Text:</label><br>
        <textarea id="PHT1" name="PHT1" rows="1" cols="44"></textarea>
        <br><br>
        <label for="PHT2">Standard Placeholder Text:</label><br>
        <textarea id="PHT2" name="PHT2" rows="1" cols="44"></textarea>
        <br><br>
        <label for="SystemPrompt">System Prompt:</label><br>
        <textarea id="SystemPrompt" name="SystemPrompt" rows="8" cols="44"></textarea>

        <br><br>
        <button onclick="createLink()">Generate</button>
        <br><br><br>
        <div id="result"></div>
    
    </body>

</html>

<script>
    function createLink(){
             
        if(document.getElementById('name').value != ""){
            encryptedURL = "https://quigley.page/assistants/?n=" + encrypt(document.getElementById('name').value);;
            if(document.getElementById('GPT-4').checked == true)
                encryptedURL += "&m=7";
            else if(document.getElementById('GPT-4o').checked == true)
                encryptedURL += "&m=6";
            if(document.getElementById('Intro').value != "")
                encryptedURL += "&i=" + encrypt(document.getElementById('Intro').value);
            if(document.getElementById('Suggestions').value != "")
                encryptedURL += "&s=" + encrypt(document.getElementById('Suggestions').value);
            if(document.getElementById('PHT1').value != "")
                encryptedURL += '&a=' + encrypt(document.getElementById('PHT1').value);
            if(document.getElementById('PHT2').value != "")
                encryptedURL += '&b=' + encrypt(document.getElementById('PHT2').value);
            if(document.getElementById('SystemPrompt').value != "")
                encryptedURL += "&p=" + encrypt(document.getElementById('SystemPrompt').value);

            document.getElementById('result').innerHTML = "Test Link: <a href='" + encryptedURL + "' target='_blank'>" + document.getElementById('name').value + "</a>";
        }
        
    }
</script>